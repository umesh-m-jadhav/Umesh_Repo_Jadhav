<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Payment Screen</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #74b9ff, #a29bfe);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 99vh;
      margin: 0;
    }

    .payment-container {
      background: #fff;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
      width: 380px;
      text-align: center;
    }
	
	.back-btn {
    position: absolute;       /* Position it over the popup */
    top: 15px;
    left: 15px;             /* Distance from right */
    width: 30px;              /* Circular width */
    height: 30px;             /* Circular height */
    background-color: #f44336; /* Red background */
    color: white;             /* White X */
    border: none;             /* No border */
    border-radius: 50%;       /* Circle shape */
    font-size: 20px;          /* X size */
    font-weight: bold;
    cursor: pointer;          /* Pointer on hover */
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.3s;
	
    }

.back-btn1 {
    position: absolute;       /* Position it over the popup */
    top: 15px;
    right: 15px;             /* Distance from right */
    width: 30px;              /* Circular width */
    height: 30px;             /* Circular height */
    background-color: #f44336; /* Red background */
    color: white;             /* White X */
    border: none;             /* No border */
    border-radius: 50%;       /* Circle shape */
    font-size: 20px;          /* X size */
    font-weight: bold;
    cursor: pointer;          /* Pointer on hover */
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.3s;
	
    }
	
    .back-btn:hover {
      background: #b2bec3;
      transform: scale(1.05);
    }
	
    .payment-container h2 {
      margin-bottom: 20px;
      color: #2d3436;
    }

    .form-group {
      margin-bottom: 15px;
      text-align: left;
    }

    .form-group label {
      display: block;
      margin-bottom: 6px;
      color: #636e72;
      font-size: 14px;
    }

    .form-group input {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #dfe6e9;
      outline: none;
      font-size: 14px;
      transition: border-color 0.3s;
    }

    .form-group input:focus {
      border-color: #0984e3;
    }

    .card-details {
      display: flex;
      gap: 10px;
    }

    .card-details input {
      flex: 1;
    }

    hr {
      border: none;
      border-top: 1px solid #dfe6e9;
      margin: 20px 0;
      position: relative;
    }

    hr::after {
      content: "OR";
      position: absolute;
      top: -12px;
      left: 50%;
      transform: translateX(-50%);
      background: #fff;
      padding: 0 10px;
      color: #636e72;
      font-size: 12px;
      font-weight: bold;
    }

    .qr-section {
      margin: 10px 0 20px 0;
    }

    .qr-section img {
      width: 150px;
      height: 150px;
      border: 2px solid #dfe6e9;
      border-radius: 8px;
    }

    .pay-btn, .download-btn , .share-btn {
      width: 100%;
      padding: 14px;
      background: #0984e3;
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
    }

    .pay-btn:hover {
      background: #74b9ff;
      transform: scale(1.03);
    }

.qr-buttons {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      margin-top: 10px;
    }
	
.download-btn {
      background: #00b894;
      color: #fff;
    }

    .download-btn:hover {
      background: #55efc4;
      transform: scale(1.03);
    }
	
    .secure-text {
      margin-top: 12px;
      font-size: 12px;
      color: #636e72;
    }
	
	 .form-row {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
  }
  
	.form-row label {
      font-size: 16px;
      font-weight: bold;
      margin-right: 10px;
      min-width: 80px; /* keeps label aligned neatly */
    }
	
	.form-row input[type="text"] {
      flex: 1; /* textbox grows to take available space */
      padding: 10px;
      border: 2px solid #007BFF;
      border-radius: 8px;
      font-size: 16px;
      outline: none;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
	
	.required-star {
      color: red;
      margin-left: 4px;
    }
	
	#overlay {
      position: fixed;
      display: none;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      z-index: 1000;
    }

    /* Alert box styling */
    #customAlert, #customAlert1 {
      position: fixed;
      display: none;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px 30px;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      z-index: 1001;
      min-width: 250px;
      text-align: center;
      font-family: Arial, sans-serif;
    }

    #customAlert button,#customAlert1 button {
      margin-top: 15px;
      padding: 8px 20px;
      border: none;
      background-color: #007BFF;
      color: white;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
    }

    #customAlert button:hover {
      background-color: #0056b3;
    }
	
	#customAlert1 button:hover {
      background-color: #0056b3;
    }
	
	 #confirmDialog {
      position: fixed;
      display: none;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px 30px;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      z-index: 1001;
      min-width: 300px;
      text-align: center;
      font-family: Arial, sans-serif;
    }

    #confirmDialog p {
      margin-bottom: 20px;
    }

    #confirmDialog button {
      padding: 8px 20px;
      margin: 0 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
    }

    #confirmOk {
      background-color: #28a745;
      color: white;
    }

    #confirmOk:hover {
      background-color: #218838;
    }

    #confirmCancel {
      background-color: #dc3545;
      color: white;
    }

    #confirmCancel:hover {
      background-color: #c82333;
    }
	
	ul {
      list-style: none; /* remove default bullets */
      padding: 0;
      max-width: 400px;
      margin: auto;
    }

    ul li {
      background: #eef3ff;
      margin: 10px 0;
      padding: 12px 15px;
      border-left: 6px solid #3366cc;
      border-radius: 6px;
      font-size: 16px;
      color: #333;
      position: relative;
    }

    /* Add custom circle bullets */
    ul li::before {
      content: "â€¢";
      color: #3366cc;
      font-weight: bold;
      position: absolute;
      left: -20px;
      font-size: 20px;
    }

    /* Hover effect */
    ul li:hover {
      background: #dfe8ff;
      transform: translateX(5px);
      transition: 0.2s ease;
    }
	
  </style>
</head>
<body>

  <div class="payment-container">
<button class="back-btn" onclick="window.close();">&times;</button>
	<button class="back-btn1" onclick="window.close();">&times;</button>
	
 <h2>Pay for R21 Premier League (RPL)</h2>
	
	
	
	 <form>
	  <div id="overlay"></div>
	  <!-- Custom Alert -->
  <div id="customAlert">
    <p id="alertMessage"></p>
    <button onclick="closeAlert()">OK</button>
  </div>
  
    <div id="overlay1"></div>
	  <!-- Custom Alert -->
  <div id="customAlert1">
    <p id="alertMessage1"></p>
	<p  id="alertMessage2" class="secure-text" style="font-size:15px; color:blue;">ðŸ”’ Payer name - Umesh Mahadev Jadhav </p>
	<p  id="alertMessage3" class="secure-text" style="font-size:15px; color:blue;">ðŸ”’ Amount - 200rs </p>
    <button type="button" onclick="OkToProceed()">OK</button>
	<button type="button" onclick="cancelAlert1()">Cancel</button>
  </div>
  
    <!--
	  <div class="form-row">
    <label for="tower">Tower<span class="required-star">*</span></label>
    <input type="text" id="tower" name="tower" maxlength="7" pattern="[A-Za-z0-9\s\-]+" required>
  </div>

  <div class="form-row">
    <label for="flat">Flat<span class="required-star">*</span></label>
    <input type="text" id="flat" name="flat" maxlength="10" pattern="[A-Za-z0-9\s\-]+" required>
  </div>
  	
	<div class="form-group">
	 <a id="PayButtonIdLink" href="#"> 
          <button type="button" class="pay-btn" onclick="pay()" > Pay using UPI app</button>
	 </a>
             
      </div>
	 
	 
      <hr> -->
	  <hr>
      <!-- QR Payment Section -->
      <div class="qr-section">
      <!--  <p><B>Having trouble with the above option? Scan below QR code to pay.</B></p> -->
	  <p><B>Step1 - Download below QR</B></p>
		<a id="QRCodeClickId" href="#"> 
           <img id="qrImage" onclick="downloadQR()" src="Kotak-QR-Code.png" alt="QR Code" > </img>
		</a>
		<div class="qr-buttons">
          <button type="button" class="download-btn" onclick="downloadQR()">â¬‡ Download</button>
          <!-- <button type="button" class="share-btn" onclick="shareQR()">ðŸ”— Share</button> -->
		  <button type="button" class="share-btn" onclick="shareQRFile()">ðŸ”— Share4</button>
		  
        </div>
      </div>
	  <hr>
	<p><B>Step2</B></p>
	<div class="qr-buttons">
	
	 <a id="PayButtonIdLink" href="#">  </a>
          <button type="button" class="download-btn" onclick="redirectingToUPIApp()" > Open PhonePay</button>
		  <button type="button" class="share-btn" onclick="redirectingToUPIApp_GPAY()" > Open GPay</button>
		  
	 
      </div>
	  <hr>
	 <p><B>Step3 - Pay in App (Rs 200)</B></p>
	  <ul>
    <li>Scan Downloaded QR In App</li>
    <li>Pay, Rs 200</li>
	</ul>
   <hr>

    </form>
  </div>
  
  <script>
       	
  function showAlert(message) {
      document.getElementById('alertMessage').innerText = message;
      document.getElementById('overlay').style.display = 'block';
      document.getElementById('customAlert').style.display = 'block';
    }

    function closeAlert() {
      document.getElementById('overlay').style.display = 'none';
      document.getElementById('customAlert').style.display = 'none';
    }
	
	 function showAlert1(message) {
      document.getElementById('alertMessage1').innerText = message;
      document.getElementById('overlay1').style.display = 'block';
      document.getElementById('customAlert1').style.display = 'block';
    }

    function OkToProceed() {
	  redirectingToUPIApp();
	  document.getElementById('overlay1').style.display = 'none';
      document.getElementById('customAlert1').style.display = 'none';
	  window.close();
    }
	
	function cancelAlert1() {
      document.getElementById('overlay1').style.display = 'none';
      document.getElementById('customAlert1').style.display = 'none';
    }
	
	function redirectingToUPIApp_GPAY() {
	  const paymentLink = document.getElementById("PayButtonIdLink");
	  //const paymentLinkValue="tez://open";
	  const paymentLinkValue="tez://upi/open";
	  paymentLink.href = paymentLinkValue;
	  paymentLink.click();
	  window.close();	 
	 }
	 
	function redirectingToUPIApp() {
	  /**const amountToPay = 1;
	  //const payeeUPIID = "8983646362@kotak";
	  //const payeeUPIID = "7843026362@ybl";
	  const payeeUPIID = "Q659488962@ybl";
      const tower = document.getElementById("tower");
	  const towerValue = tower.value.trim();
	  const filteredtowerValue =  processInput(towerValue);  
	  
	  const flat = document.getElementById("flat");
	  const flatValue = flat.value.trim();
	  const filteredflatValue =  processInput(flatValue); 
	  
	  const paymentNote = "RPL-"+filteredtowerValue+"-"+filteredflatValue;
	  	  
	  
	  //const paymentLinkValue="upi://pay?pa=8983646362@kotak;tn=%20;&cu=INR&pn=%20&tr=%20";
	  //const paymentLinkValue="phonepe://pay?pa=8983646362@kotak&pn=UMESH MAHADEV JADHAV HUF&cu=INR";
	  
	  //const paymentLinkValue="upi://pay?pa=8983646362@kotak&am=$20;tn="+paymentNote+"&cu=INR&pn=%20&tr=%20";
	  //const paymentLinkValue="upi://pay?pa="+payeeUPIID+"&am="+amountToPay+";tn="+paymentNote; **/
	  
	  const paymentLink = document.getElementById("PayButtonIdLink");
	  const paymentLinkValue="phonepe://open";
	  paymentLink.href = paymentLinkValue;
	  paymentLink.click();
	  window.close();
	  //showAlert(paymentLinkValue);
	 }
	
  function pay() {
      /**const tower = document.getElementById("tower");
	  if(tower==null || tower.value.trim().length==0){
		showAlert("Please enter your Tower number to include it in the payment note.");
		return;
	  }
	  
	  const flat = document.getElementById("flat");
	  if(flat==null || flat.value.trim().length==0){
		showAlert("Please enter your Flat number to include it in the payment note.");
		return;
	  } **/
	  		
	 const finalMessageBeforePay = "Redirecting you to UPI App\n\n"+
	  "Please Verify below details on your UPI App and then only Pay.\n"
	  showAlert1(finalMessageBeforePay);
	}
	
		
 function processInput(input1Value) {
	 var newInput = "";
      let inputValue = input1Value;
	  let allowedNumbers = ["0","1","2","3","4","5","6","7","8","9","10"];
	  let allowedChars = Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZ");
      // Loop through each character
      for (let i = 0; i < inputValue.length; i++) {
	  let char1 = inputValue[i];
	   if (allowedNumbers.includes(char1)) {
			newInput = newInput+char1;
		}else{
			char1 = char1.toUpperCase();
			if (allowedChars.includes(char1)) {
			newInput = newInput+char1;
			}
		}
		}
		return newInput;
    }
	
    function downloadQR() {
      const qr = document.getElementById("qrImage");
      const link = document.createElement("a");
      link.href = qr.src;
      link.download = "QR_Code.png";
      link.click();
    }
	
	// Share QR Code
    async function shareQR() {
      const qr = document.getElementById("qrImage");
      if (navigator.share) {
        try {
          await navigator.share({
            title: 'QR Code Payment',
            text: 'Scan this QR code to pay.',
            url: qr.src
          });
          //alert('QR code shared successfully!');
        } catch (err) {
          //alert('Share canceled or failed.');
        }
      } else {
        alert('Sharing not supported on this browser.');
      }
    }
	
	async function shareQRFile() {
  try {
    // Fetch the file as a Blob
	const qr = document.getElementById("qrImage");
    const response = await fetch("https://raw.githubusercontent.com/umesh-m-jadhav/Umesh_Repo_Jadhav/main/Kotak-QR-Code.png");
    const blob = await response.blob();

    // Convert Blob into File
    const file = new File([blob], "QR_Code", { type: blob.type });

    // Check if Web Share API supports file sharing
    if (navigator.canShare && navigator.canShare({ files: [file] })) {
      await navigator.share({
        title: 'Shared File',
        text: 'Please check this file',
        files: [file],
      });
      console.log('File shared successfully!');
    } else {
      console.warn('File sharing is not supported on this browser/device');
    }
  } catch (err) {
    console.error('Error sharing file:', err);
  }
}
	
  </script>
  
</body>
</html>
