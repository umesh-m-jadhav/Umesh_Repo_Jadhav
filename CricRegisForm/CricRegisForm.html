<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registration Form</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f6fa;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .form-container {
      background: #fff;
      width: 90%;
      max-width: 650px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      padding: 20px 25px;
    }

    h2 {
      text-align: center;
      color: #333;
      margin-bottom: 20px;
    }

    .section {
      margin-bottom: 25px;
      border: 1px solid #e1e1e1;
      border-radius: 10px;
      padding: 15px;
      background: #fafafa;
    }

    .section h3 {
      margin-top: 0;
      color: #0052cc;
      border-bottom: 2px solid #0052cc;
      display: inline-block;
      padding-bottom: 4px;
    }

    .rules { margin-top: 10px; line-height: 1.6; color: #444; font-size: 15px; }
    .rules li { margin-bottom: 8px; }

    .qr-section { text-align: center; }

    .qr-section img {
      width: 200px;
      height: 200px;
      border-radius: 10px;
      border: 2px solid #ddd;
      margin-bottom: 15px;
      object-fit: cover;
    }

    .btn {
      display: inline-block;
      padding: 10px 20px;
      margin: 5px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 15px;
      font-weight: 600;
      transition: background 0.3s;
    }

    .btn-download { background: #28a745; color: #fff; }
    .btn-download:hover { background: #218838; }
    .btn-share { background: #007bff; color: #fff; }
    .btn-share:hover { background: #0069d9; }
    .btn-phonepay { background: #5e35b1; color: #fff; }
    .btn-phonepay:hover { background: #4527a0; }
    .btn-gpay { background: #00a65a; color: #fff; }
    .btn-gpay:hover { background: #00924f; }

    .separator { border-top: 1px solid #ccc; margin: 15px 0; }

    .step-header {
      color: #d84315;
      font-weight: bold;
      text-align: left;
      margin-bottom: 10px;
      margin-top: 10px;
    }
	
	.crikHeroesNote-highlight {
	margin-top: 10px;
    padding: 10px;
    border: 3px solid;
    border-image: linear-gradient(45deg, #ff6f61, #ffca28, #66bb6a, #29b6f6) 1;
    border-radius: 10px;
    background: #fffef8;
    font-size: 14px;
    color: #333;
    line-height: 1.5;
	}
	
    .payment-highlight {
      border: 3px solid;
      border-image: linear-gradient(45deg, #ff6f61, #ffca28, #66bb6a, #29b6f6) 1;
      border-radius: 10px;
      padding: 12px;
      animation: borderGlow 4s linear infinite;
      background: #fffef8;
    }

    @keyframes borderGlow {
      0% { border-image-source: linear-gradient(45deg, #ff6f61, #ffca28, #66bb6a, #29b6f6); }
      50% { border-image-source: linear-gradient(135deg, #29b6f6, #66bb6a, #ffca28, #ff6f61); }
      100% { border-image-source: linear-gradient(45deg, #ff6f61, #ffca28, #66bb6a, #29b6f6); }
    }

    .payment-highlight p {
      font-weight: bold;
      color: #333;
      margin: 0 0 8px 0;
      text-align: center;
    }

    .payment-highlight label { margin-right: 15px; font-weight: 500; font-size: 15px; }

    .form-group {
      display: flex;
      flex-direction: column;
      margin-bottom: 15px;
    }

    .form-group label { font-weight: 600; margin-bottom: 5px; }

    .form-group input,
    .form-group textarea {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 15px;
      outline: none;
    }

    .skills-options label { margin-right: 15px; }

    .submit-btn {
      width: 100%;
      background: #ff9800;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 12px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
    }

    .submit-btn:hover { background: #fb8c00; }

    @media (max-width: 600px) {
      .form-container { padding: 15px; }
      .qr-section img { width: 150px; height: 150px; }
      .btn { width: 45%; }
    }
	
	input[type="tel"] {
	letter-spacing: 2px; /* adds spacing between digits */
	}


  </style>
</head>
<body>
  <div class="form-container">
    <h2>Event Registration</h2>

    <!-- General Section -->
    <div class="section">
      <h3>1Ô∏è‚É£ General (Rules & Regulations)</h3>
      <ul class="rules">
        <li>Each participant must complete the registration before the deadline.</li>
        <li>Entry fees must be paid in full to confirm registration.</li>
        <li>Participants should carry a valid ID during the event.</li>
        <li>Organizers reserve the right to modify rules if required.</li>
        <li>Decisions made by the committee will be final and binding.</li>
      </ul>
    </div>

    <!-- Payment Section -->
    <div class="section">
      <h3>2Ô∏è‚É£ Payment</h3>
      <div class="qr-section">
        <div class="step-header">Step 1 - Download below QR</div>
        <img src="QR_Umesh_Jadhav.jpg" alt="QR Code">
        <div>
          <button class="btn btn-download" onclick="downloadQR()">‚¨áÔ∏è Download</button>
          <button class="btn btn-share" onclick="shareQR()">üì§ Share</button>
        </div>

        <div class="separator"></div>

        <div class="step-header">Step 2- Scan downloaded QR in below app and pay ‚Çπ500.</div>
        <button class="btn btn-phonepay" onclick="openPhonePay()">üì± Open PhonePe</button>
        <button class="btn btn-gpay" onclick="openGPay()">üí∞ Open GPay</button>

        <div class="separator"></div>

      </div>
    </div>

    <!-- Registration Section -->
    <div class="section">
      <h3>3Ô∏è‚É£ Registration</h3>

<form id="registrationForm" 
      method="POST" 
      enctype="multipart/form-data"
      action="https://script.google.com/macros/s/AKfycby4a2XPZDf1WNv4GkUfmL_qa0oMbZWDxThZj9kSFIZudg1UpX6j2aNItN1gIDsgyk6E/exec"
	  >
      <!--onsubmit="return validateForm();"> -->

<div class="payment-highlight">
  <p>Please confirm if you have done payment:</p>
  <div style="margin-bottom: 20px;">
    <label><input type="radio" value="Yes Payment done" id="paymentYes" onclick="onClickPaymentStatus(true)" name="paymentStatus"> ‚úÖ Yes, Payment done</label>
  </div>
  <div style="margin-bottom: 20px;">
    <label><input type="radio" value="No Payment not done" id="paymentNo" onclick="onClickPaymentStatus(false)" name="paymentStatus"> ‚ùå No, Payment not done</label>
  </div>
</div>
	  
<div class="form-group" style="margin-top: 10px;">
  <label>Full Name <span style="color:red">*</span></label>
  <input type="text" placeholder="Enter your name" onclick="checkPaymentStatus()" required name="fullName">
</div>

<div class="form-group">
  <label>WhatsApp Number <span style="color:red">*</span></label>
  <input type="tel" id="whatsapp" placeholder="Enter WhatsApp number" 
         maxlength="12" inputmode="numeric"
         onkeypress="return isNumberKey(event)" onclick="checkPaymentStatus()" required name="whatsappMobile">
</div>

<div class="form-group">
  <label>
    CricHeroes linked Mobile Number <span style="color:red">*</span>
    <br>
    <input type="checkbox" id="sameNumber" onchange="copyNumber()" onclick="checkPaymentStatus()">
    <span>Same as WhatsApp Number</span>
  </label>
  <input type="tel" id="cricHeroes" placeholder="Enter CricHeroes number" 
         maxlength="12" inputmode="numeric"
         onkeypress="return isNumberKey(event)" onclick="checkPaymentStatus()" required name="cricHeroesMobile">
</div>

<div class="form-group">
  <label>Tower & Flat No. (e.g. T30-1308) <span style="color:red">*</span></label>
  <input type="text" onclick="checkPaymentStatus()" required name="towerFlat">
</div>

<div class="form-group">
  <label>
    Please mention date unavailability  
    (Tournament Dates: November 8th (Saturday), November 9th (Sunday), November 16th (Sunday)) <span style="color:red">*</span>
  </label>
  <textarea rows="3" onclick="checkPaymentStatus()" required name="unavailable"></textarea>
</div>

<div class="form-group">
  <label>Upload your image for Auction <span style="color:red">*</span></label>
  <input type="file" accept="image/*" id="playerImage"
         onchange="validateImage(this)" name="playerImage" required>
</div>

<div class="form-group">
  <label>Skills <span style="color:red">*</span></label>
  <div class="skills-options">
    <div style="margin-bottom: 20px;">
      <label><input type="radio" name="skills" value="batsman" onclick="checkPaymentStatus()" required> Batsman</label>
    </div>
    <div style="margin-bottom: 20px;">
      <label><input type="radio" name="skills" value="bowler" onclick="checkPaymentStatus()"> Bowler</label>
    </div>
    <div style="margin-bottom: 20px;">
      <label><input type="radio" name="skills" value="allrounder" onclick="checkPaymentStatus()"> All Rounder</label>
    </div>
  </div>
</div>

<div class="form-group">
  <label><input type="checkbox" onclick="checkPaymentStatus()" required> Confirm if you agree with our customized box cricket rules <span style="color:red">*</span></label>
</div>

      <!--<button class="submit-btn" onclick="submitRegistration(event)">Submit</button> -->
	  <button class="submit-btn">Submit</button>
    </div>
  </div>
</form>

  <script>
  
  document.getElementById('whatsapp').addEventListener('input', function() {
    formatMobileNumber(this);
});

document.getElementById('cricHeroes').addEventListener('input', function() {
    formatMobileNumber(this);
});

  function formatMobileNumber(input) {
    let value = input.value.replace(/\D/g, ''); // remove non-digits
    if (value.length > 4 && value.length <= 7) {
        value = value.slice(0, 4) + ' ' + value.slice(4);
    } else if (value.length > 6) {
        value = value.slice(0, 4) + ' ' + value.slice(4, 6) + ' ' + value.slice(6, 10);
    }
    input.value = value;
}
  
function validateForm() {
  // 1. Full Name
  const fullName = document.querySelector('input[name="fullName"]').value.trim();
  if (!fullName) {
    alert("‚ö†Ô∏è Please enter your Full Name");
    return false;
  }

// 2. WhatsApp Number
  const whatsapp = document.querySelector('input[name="whatsappMobile"]').value.replace(/\s/g,'');
  if (!/^\d{10}$/.test(whatsapp)) {
    alert("‚ö†Ô∏è Please enter a valid 10-digit WhatsApp Number");
    return false;
  }

  // 3. CricHeroes linked Mobile Number
  const cricHeroes = document.querySelector('input[name="cricHeroesMobile"]').value.replace(/\s/g,'');
  if (!/^\d{10}$/.test(cricHeroes)) {
    alert("‚ö†Ô∏è Please enter a valid 10-digit CricHeroes Mobile Number");
    return false;
  }
  
  // 4. Tower & Flat No.
  const towerFlat = document.querySelector('input[name="towerFlat"]').value.trim();
  if (!towerFlat) {
    alert("‚ö†Ô∏è Please enter your Tower & Flat No.");
    return false;
  }

  // 5. Date Unavailability
  const unavailability = document.querySelector('textarea[name="unavailable"]').value.trim();
  if (!unavailability) {
    alert("‚ö†Ô∏è Please mention your date unavailability");
    return false;
  }

  // 6. Upload Image
  const playerImage = document.querySelector('input[name="playerImage"]').files[0];
  if (!playerImage) {
    alert("‚ö†Ô∏è Please upload your image for Auction");
    return false;
  }
  const validTypes = ['image/jpeg', 'image/png', 'image/jpg', 'image/gif', 'image/webp', 'image/bmp'];
  if (!validTypes.includes(playerImage.type)) {
    alert("‚ùå Invalid image type. Allowed: JPG, PNG, GIF, WEBP, BMP");
    return false;
  }

  // 7. Skills
  const skills = document.querySelector('input[name="skills"]:checked');
  if (!skills) {
    alert("‚ö†Ô∏è Please select your Skill (Batsman, Bowler, or Allrounder)");
    return false;
  }

  // 8. Confirm rules checkbox
  
  /**
  const confirmRules = document.querySelector('input[type="checkbox"][onclick*="checkPaymentStatus"]');
  if (!confirmRules.checked) {
    alert("‚ö†Ô∏è Please confirm that you agree with our customized box cricket rules");
    return false;
  }
 **/
 
  // 9. Payment confirmation
  /**
  if (!paymentConfirmed) {
    alert("‚ö†Ô∏è Please confirm your payment using the QR code above before submitting");
    return false;
  } **/
  
  // Remove spaces from numbers before submission
  document.querySelector('input[name="whatsappMobile"]').value = whatsapp;
  document.querySelector('input[name="cricHeroesMobile"]').value = cricHeroes;
  
  return true; // All validations passed
}

// Hook this to your form
document.getElementById('registrationForm').onsubmit = function(e) {
  if (!validateForm()) {
    e.preventDefault(); // prevent form submission if validation fails
  }
};



    let paymentConfirmed = false;

    function onClickPaymentStatus(status) {
		paymentConfirmed = status;
		if(!paymentConfirmed){
			alert("Requesting you kindly make a Payment using above Payment QR code to avoid followup.");
		}
    }
	
	function checkPaymentStatus() {
	 const yes = document.getElementById('paymentYes');
     const no = document.getElementById('paymentNo');

      if (!yes.checked && !no.checked) {
        alert('Please confirm if you have done payment.');
      }
	  
    }
	
/**
   async function submitRegistration(e) {
  e.preventDefault(); // stop form reload

  const form = document.getElementById("registrationForm"); // get form by ID
  const formData = new FormData(form);

  const scriptURL = "https://script.google.com/macros/s/AKfycbwJHBOSrEALHN7zSCyi7yxYYJ9Wf0jnKgBy9iXfjPGaFmjUET5ujIYfxd5Mp0vVIJTg/exec";

  try {
    const response = await fetch(scriptURL, { method: "POST", body: formData });
    const resultText = await response.text();
    document.getElementById("responseMsg").innerHTML =
      `<span style="color:green;">‚úÖ ${resultText}</span>`;
  } catch (error) {
    document.getElementById("responseMsg").innerHTML =
      `<span style="color:red;">‚ùå Error submitting form. Please try again.</span>`;
    console.error(error);
  }
}
**/		

    function copyNumber() {
      const same = document.getElementById("sameNumber");
      const w = document.getElementById("whatsapp");
      const c = document.getElementById("cricHeroes");
      if (same.checked) c.value = w.value;
      else c.value = "";
    }
	
	function isNumberKey(evt) {
    const charCode = evt.which ? evt.which : evt.keyCode;
    if (charCode < 48 || charCode > 57) return false; // block non-numeric
    return true;
  }

  function validateImage(input) {
    const file = input.files[0];
    if (file) {
      const validTypes = ['image/jpeg', 'image/png', 'image/jpg', 'image/gif', 'image/webp', 'image/bmp'];
      if (!validTypes.includes(file.type)) {
        alert("‚ùå Please upload image files only (JPG, PNG, GIF, WEBP, BMP).");
        input.value = "";
      }
    }
  }

    function downloadQR() { alert("QR Download initiated"); }
    function shareQR() { alert("QR Share initiated"); }
    function openPhonePay() { alert("Opening PhonePe"); }
    function openGPay() { alert("Opening GPay"); }
  </script>
</body>
</html>
